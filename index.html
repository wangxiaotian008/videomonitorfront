<!doctype html>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<meta content="always" name="referrer">
<title>视频事件智能分析系统</title>
<link rel="stylesheet" type="text/css" href="css/reset.css" />
<link rel="stylesheet" type="text/css" href="css/index.css" />
</head>

<body>
<!-- head -->
<div class="box headBox">
	<span>视频事件智能分析系统</span>
	<div class="timeBox">
    	<span>11:41:50</span><span>2020.10.30</span>
    </div>
</div>
<!-- head end -->


<div class="box clearfix">
	<!-- left -->
	<div class="leftBox">
    	<div class="navBox">
            <a class="li on" href="javascript:;"><span>实时动态</span></a>
            <a class="li" href="on_line.html"><span>在线监控</span></a>
            <a class="li" href="videomap1.html"><span>事件地图</span></a>
        </div>
        <div class="nrBox">
            <div class="head"></div>
            <dl class="room indexBox1">
            	<dt class="titleBox">今日设备在线统计</dt>
                <dd><span>885</span><span>设备总数</span></dd>
                <dd><span>224</span><span>设备在线</span></dd>
                <dd><span class="cRed">1</span><span>设备离线</span></dd>
            </dl>
            <div class="foot"></div>
        </div>
        <div class="nrBox">
            <div class="head"></div>
            <dl class="room indexBox2">
            	<dt class="titleBox">事件处理</dt>
                <dd>
                	<div><i class="ico ico1"></i><b>今日统计（次）</b></div>
                	<span>72</span>
                </dd>
                <dd>
                	<div><i class="ico ico2"></i><b>本周统计（次）</b></div>
                	<span>696</span>
                </dd>
                <dd>
                	<div><i class="ico ico3"></i><b>本月统计（次）</b></div>
                	<span>1024</span>
                </dd>
            </dl>
            <div class="foot"></div>
        </div>
        <div class="nrBox">
            <div class="head"></div>
            <dl class="room indexBox3">
            	<dt class="titleBox">预警记录</dt>
                <dd>
                	<div><i class="ico ico1"></i><b>河道游泳（次）</b></div>
                	<span>72</span>
                </dd>
                <dd>
                	<div><i class="ico ico2"></i><b>河道钓鱼（次）</b></div>
                	<span>696</span>
                </dd>
                <dd>
                	<div><i class="ico ico3"></i><b>漂浮物（次）</b></div>
                	<span>72</span>
                </dd>
                <dd>
                	<div><i class="ico ico4"></i><b>人员入侵（次）</b></div>
                	<span>72</span>
                </dd>
            </dl>
            <div class="foot"></div>
        </div>
    </div>
	<!-- center -->
	<div class="centerBox">
        <div class="nrBox">
            <div class="head"></div>
            <dl class="room indexBox4 clearfix">
                <dd>
                	<div>
                		<div><video controls>
  <source src=https://www.runoob.com/try/demo_source/movie.mp4" type="video/mp4">
  <source src=https://www.runoob.com/try/demo_source/movie.ogg" type="video/ogg">
  您的浏览器不支持 HTML5 video 标签。
</video></div>
                	</div>
                </dd>
                <dd>
                	<div>
                		<div><img src="images/yangtu11111111111.png" alt=""></div>
                	</div>
                </dd>
                <dd>
                	<div>
                		<div><img src="images/yangtu11111111111.png" alt=""></div>
                	</div>
                </dd>
                <dd>
                	<div>
                		<div><img src="images/yangtu11111111111.png" alt=""></div>
                	</div>
                </dd>
            </dl>
            <div class="foot"></div>
        </div>
        <div class="nrBox">
            <div class="head"></div>
            <dl class="room indexBox5 tabBox">
            	<dt class="titleBox">
                	<span>事件发生地排行</span>
                    <div class="tabs">
                    	<b class="cur">日</b>
                    	<b>周</b>
                    	<b>月</b>
                    </div>
                </dt>
                <dd class="tabList">
                	<!--日-->
                	<ul class="cur">
                		<li class="hover"><span>胶东桥</span><b>11111次</b></li>
                		<li><span>文慧闸</span><b>2222次</b></li>
                		<li><span>石头公园</span><b>333次</b></li>
                		<li><span>十字路口</span><b>44次</b></li>
                		<li><span>后街</span><b>5次</b></li>
                		<li><span>公园门口</span><b>6次</b></li>
                		<li><span>南门售票处</span><b>7次</b></li>
                	</ul>
                    <!--周-->
                	<ul>
                		<li class="hover"><span>胶东桥</span><b>777次</b></li>
                		<li><span>文慧闸</span><b>66次</b></li>
                		<li><span>石头公园</span><b>55次</b></li>
                		<li><span>十字路口</span><b>4次</b></li>
                		<li><span>后街</span><b>3次</b></li>
                		<li><span>公园门口</span><b>2次</b></li>
                		<li><span>南门售票处</span><b>1次</b></li>
                	</ul>
                    <!--月-->
                	<ul>
                		<li class="hover"><span>胶东桥</span><b>9999次</b></li>
                		<li><span>文慧闸</span><b>6666次</b></li>
                		<li><span>石头公园</span><b>3333次</b></li>
                		<li><span>十字路口</span><b>1111次</b></li>
                		<li><span>后街</span><b>222次</b></li>
                		<li><span>公园门口</span><b>444次</b></li>
                		<li><span>南门售票处</span><b>555次</b></li>
                	</ul>
                </dd>
            </dl>
            <div class="foot"></div>
        </div>
        <div class="nrBox">
            <div class="head"></div>
            <dl class="room indexBox6 tabBox">
            	<dt class="titleBox">
                	<span>事件发生时间统计</span>
                    <div class="tabs">
                    	<b class="cur">日</b>
                    	<b>周</b>
                    	<b>月</b>
                    </div>
                </dt>
                <dd id="eventTime"></dd>
            </dl>
            <div class="foot"></div>
        </div>
    </div>
	<!-- right -->
	<div class="rightBox">
    	<div class="nrBox">
            <div class="head"></div>
            <dl class="room indexBox7">
            	<dt class="titleBox">设备列表</dt>
                <dd class="list">
                	<dl>
                		<dt>凉水河管理处</dt>
                		<dd class="on">
                        	<span>胶东桥</span>
                            <div><b></b><i></i></div>
                        </dd>
                		<dd class="on open">
                        	<span>文慧闸</span>
                            <div><b></b><i></i></div>
                        </dd>
                		<dd>
                        	<span>石头公园</span>
                            <div><b></b><i></i></div>
                        </dd>
                	</dl>
                	<dl>
                		<dt>路北公路段</dt>
                		<dd class="on">
                        	<span>十字路口</span>
                            <div><b></b><i></i></div>
                        </dd>
                		<dd class="on">
                        	<span>后街</span>
                            <div><b></b><i></i></div>
                        </dd>
                		<dd class="on">
                        	<span>丁字路</span>
                            <div><b></b><i></i></div>
                        </dd>
                	</dl>
                	<dl>
                		<dt>人民公园</dt>
                		<dd>
                        	<span>公园门口</span>
                            <div><b></b><i></i></div>
                        </dd>
                		<dd>
                        	<span>中心广场</span>
                            <div><b></b><i></i></div>
                        </dd>
                		<dd class="on">
                        	<span>南门售票处</span>
                            <div><b></b><i></i></div>
                        </dd>
                	</dl>
                </dd>
            </dl>
            <div class="foot"></div>
        </div>
        <div class="nrBox">
            <div class="head"></div>
            <dl class="room indexBox8 tabBox">
            	<dt class="titleBox">
                	<span>事件类型占比</span>
                    <div class="tabs">
                    	<b class="cur">日</b>
                    	<b>周</b>
                    	<b>月</b>
                    </div>
                </dt>
                <dd id="eventType"></dd>
            </dl>
            <div class="foot"></div>
        </div>
    </div>
</div>
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/echarts.min.js"></script>
<script type="text/javascript" src="js/m.js"></script>
<script type="text/javascript">
$(document).ready(function(){
  $(".tabBox .tabs>*").click(function(){
	  if($(this).hasClass('cur')){ return false;}
	  var i=$(this).index();
	  $(this).addClass('cur').siblings().removeClass('cur');
	  $('.tabList>*:eq('+ i +')',$(this).closest('.tabBox')).addClass('cur').siblings().removeClass('cur');
  });
  $('.indexBox5 li').mouseenter(function(){
	  $(this).addClass('hover').siblings().removeClass('hover');
  })
  $('.indexBox5 ul').mouseout(function(){ $('.indexBox5 li:eq(0)').addClass('hover').siblings().removeClass('hover'); });
  
  //事件发生时间统计
var timeOption = {
	grid: {
		x: 82,
		y: 26,
		x2: 30,
		y2: 23
	},
    xAxis: {
        type: 'category',
        data: ['08-12点', '12-16点', '16-20点', '20-24点', '24-04点', '04-08点'],
        nameTextStyle:{color:'#fff'},
		splitLine:{show: false},
        axisLabel:{
            fontSize: 14 ,
            color:'#fff'
        },
		axisTick:{show:false}
    },
    yAxis: {
        type: 'value',
        max: function (value) {
            return Math.round(value.max/0.8);
        },
		splitLine:{show: false},
        axisLabel:{
            fontSize: 14 ,
            color:'#fff'
        },
		axisTick:{show:false}
    },
    series: [{
        data: [
			{value:120,itemStyle:{color:setColor('10,82,230')}},
			{value:213,itemStyle:{color:setColor('254,204,67')}},
			{value:150,itemStyle:{color:setColor('79, 255, 253')}},
			{value:80,itemStyle:{color:setColor('244, 12, 74')}},
			{value:70,itemStyle:{color:setColor('10, 82, 230')}},
			{value:110,itemStyle:{color:setColor('254, 204, 67')}}
		],
        type: 'bar',
		top:25,
		bottom:0,
		height:260,
        barWidth:24,
        showBackground: true,
        backgroundStyle: {
            color: 'rgba(0, 255, 227, 0.05)'
        }
    }]
};
  function setColor(c){
	return new echarts.graphic.LinearGradient(
		0, 0, 0, 1,
		[
			{offset: 0, color: 'rgba('+c+', 1)'},
			{offset: 1, color: 'rgba('+c+', 0)'}
		]
	)
  }
  function pushTimeData(index,ajaxData){
	  //index 0:天 1：周  2：月 ajaxData:数据
	  var data= ajaxData ? ajaxData : (function(){
		 console.log('没有收到数据，当前为假数据')
		 return index==0?[31,24,15,48,77,33]:index==1?[45,78,45,3,12,99]:[111,22,33,44,99,55];
	  })();
	  for(var i=0;i<data.length;i++){
		  timeOption.series[0].data[i].value=data[i];
	  }
	  var timeChart = echarts.init(document.getElementById('eventTime'));
	  timeChart.setOption(timeOption);
  }
  $('.centerBox .indexBox6 .tabs b').click(function(){
	  var index=$(this).index()
	  pushTimeData(index);//回调此函数 传两个参数 第一个类值（0：天，1：周，2：月），第二个为数组类型数据（['08-12点数值', '12-16点数值', '16-20点数值', '20-24点数值', '24-04点数值', '04-08点数值']）
  }).eq(0).click();
  
  
  //事件类型统计
var typeOption = {
	color:['#4FFFFD','#F40C4A','#0A52E6','#FECC43'],
    tooltip: {trigger: 'item',formatter: '{b}:{d}%'},
    legend: {orient:"horizontal",data:["游泳","人员入侵","钓鱼","漂浮物"],bottom:0,left:"center",itemWidth:16,itemHeight:16,selectedMode:false,icon:"circle",itemGap:24,textStyle:{color:"#fff",fontSize:16}},
    series: [{name:"事件类型占比",type:"pie",radius:["60%","70%"],avoidLabelOverlap:false,bottom:70,label:{show:false,position:"center"},emphasis:{label:{show:true,fontSize:"30",fontWeight:"bold"}},labelLine:{show:false},data:[{value:310,name:"游泳"},{value:234,name:"人员入侵"},{value:135,name:"钓鱼"},{value:1548,name:"漂浮物"}]}]
};
  function pushTypeData(index,ajaxData){
	  //index 0:天 1：周  2：月 ajaxData:数据
	  var data= ajaxData ? ajaxData : (function(){
		 console.log('没有收到数据，当前为假数据')
		 return index==0?[310,234,135,1548]:index==1?[45,78,454,773]:[4755,7577,1452,757];
	  })();
	  for(var i=0;i<data.length;i++){
		  typeOption.series[0].data[i].value=data[i];
	  }
	  var typeChart = echarts.init(document.getElementById('eventType'));
	  typeChart.setOption(typeOption);
  }
  $('.rightBox .tabs b').click(function(){
	  var index=$(this).index()
	  pushTypeData(index);//回调此函数 传两个参数 第一个类值（0：天，1：周，2：月），第二个为数组类型数据（[游泳数值,人员入侵数值,钓鱼数值,漂浮物数值]）
  }).eq(0).click();
});
</script>
</body>
</html>
